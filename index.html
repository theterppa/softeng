<!DOCTYPE HTML>
<html>

<head>
    <title>Main page</title>
    <link rel="stylesheet" href="assets/styles/index.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <script>
        // Redirect to login page if the user is not logged in
        if (localStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "login/login.html";
        }
    </script>
</head>

<body>
    <!-- 在页面顶部添加用户信息区域 -->
    <header>
        <div class="user-controls">
            <button id="userInfoBtn" class="btn">👤 User Information</button>
            <button id="logout-btn" class="btn">Logout</button>
        </div>
    </header>

    <!-- 用户信息弹窗 -->
    <div id="userInfoModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>User Information</h2>
            <div id="userInfoContent"></div>
        </div>
    </div>
    <div class="tournament-container">
        <h1>Create a New Tournament Plan</h1>
        <form id="tournament-form">
            <label for="title">Tournament Title:</label>
            <input type="text" id="title" name="title" placeholder="Enter tournament title" required>

            <label for="date">Tournament Date:</label>
            <input type="date" id="date" name="date">

            <label for="game-mode">Game Mode:</label>
            <select id="game-mode" name="game-mode" required>
                <option value="cup">Cup</option>
                <option value="pool">Pool</option>
            </select>

            <label for="fields">Number of Fields:</label>
            <input type="number" id="fields" name="fields" min="1" placeholder="Enter number of fields" required>

            <label for="players">Players (Optional):</label>
            <textarea id="players" name="players" placeholder="Enter player names, one per line"></textarea>

            <button type="submit">Create Tournament</button>

        </form>
        <div id="tournament-output" class="output-container"></div>
    </div>
    <div class="own-plans-container">
        <h2>Your Tournament Plans</h2>
        <ul id="own-plan-list"></ul>
    </div>
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Edit Tournament Plan</h2>
            <form id="edit-form">
                <label for="edit-title">Tournament Title:</label>
                <input type="text" id="edit-title" name="edit-title" required>

                <label for="edit-date">Tournament Date:</label>
                <input type="date" id="edit-date" name="edit-date">

                <label for="edit-game-mode">Game Mode:</label>
                <select id="edit-game-mode" name="edit-game-mode" required>
                    <option value="cup">Cup</option>
                    <option value="pool">Pool</option>
                </select>

                <label for="edit-fields">Number of Fields:</label>
                <input type="number" id="edit-fields" name="edit-fields" min="1" required>

                <label for="edit-players">Players (Optional):</label>
                <textarea id="edit-players" name="edit-players"></textarea>

                <button type="submit">Save Changes</button>
            </form>
        </div>
    </div>
    <script src="assets/scripts/index.js"></script>
    <main>
        <button id="generate-tournament" class="generate-button">Generate Tournament K</button>
    </main>
    <!-- 确保正确引用logout.js -->
    <script src="logout/logout.js"></script>
    <script>
        // Redirect to details.html when the button is clicked
        document.getElementById("generate-tournament").addEventListener("click", function () {
            window.location.href = "pages/details.html";
        });


    </script>


</body>

</html